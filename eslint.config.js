//  @ts-check

import { tanstackConfig } from '@tanstack/eslint-config'
import useNoMemo from 'eslint-plugin-use-no-memo'
import reactHooks from 'eslint-plugin-react-hooks'

/**
 * `pnpm dlx @eslint/config-inspector` ã§è¨­å®šå†…å®¹ã‚’ç¢ºèªã§ãã¾ã™ã€‚
 */

export default [
  /** --------------------------------------------------------------------------
   * âœ’ï¸ ç„¡è¦–ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã—ã¾ã™ã€‚
   * ------------------------------------------------------------------------ */
  {
    name: 'ã‚°ãƒ­ãƒ¼ãƒãƒ«ç„¡è¦–ãƒªã‚¹ãƒˆ',
    ignores: [
      '**/*.d.ts',
      'eslint.config.js',
      'prettier.config.js',
      'dist-electron/**',
      'src/components/ui/**',
      'src/components/ui-ex/**',
      'src/lib/utils.ts',
      'electron/**',
    ],
  },

  /** --------------------------------------------------------------------------
   * âœ’ï¸ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ãƒ«ãƒ¼ãƒ«ã®è¨­å®šã‚’è¿½åŠ ã—ã¾ã™ã€‚
   * ------------------------------------------------------------------------ */
  {
    name: 'React Compiler ç”¨è¨­å®š',

    /** ------------------------------------------------------------------------
     * ğŸ”Œ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¿½åŠ ã—ã¾ã™ã€‚
     * ---------------------------------------------------------------------- */
    plugins: {
      /**
       * [1] eslint-plugin-use-no-memo
       *
       * React Compilerã®ã€Œuse no memoã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’å¼·åˆ¶ã™ã‚‹ãŸã‚ã®ESLintãƒ—ãƒ©ã‚°ã‚¤ãƒ³
       * ã§ã™ã€‚
       *
       * React Compilerã¯ã€Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è‡ªå‹•çš„ã«æœ€é©åŒ–ã—ã€é«˜ä¾¡ãªæ“ä½œã‚’ãƒ¡ãƒ¢åŒ–ã—ã¾ã™ã€‚
       * ãŸã ã—ã€ä¸€éƒ¨ã®Reactãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã“ã®è‡ªå‹•ãƒ¡ãƒ¢åŒ–ã¨äº’æ›æ€§ãŒãªãã€React Compilerã®
       * æœ€é©åŒ–ã‚’ã‚ªãƒ—ãƒˆã‚¢ã‚¦ãƒˆã™ã‚‹ãŸã‚ã«ã€Œuse no memoã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ãŒå¿…è¦ã§ã™ã€‚
       *
       * ã“ã®ESLintãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€äº’æ›æ€§ã®ãªã„ãƒ•ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã«è‡ªå‹•çš„ã«æ¤œå‡ºã—ã€
       * ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’è¿½åŠ ã™ã‚‹ã‚ˆã†è­¦å‘Šã—ãŸã‚Šã€è‡ªå‹•çš„ã«ä¿®æ­£ã—ãŸã‚Šã™ã‚‹ã®ã«å½¹ç«‹ã¡ã¾ã™ã€‚
       *
       * @see https://github.com/longzheng/eslint-plugin-use-no-memo
       */
      'use-no-memo': useNoMemo,

      /**
       * [2] eslint-plugin-react-hooks
       *
       * React Compiler ã«ã¯ã€æœ€é©åŒ–ã§ããªã„ã‚³ãƒ¼ãƒ‰ã‚’ç‰¹å®šã™ã‚‹ã®ã«å½¹ç«‹ã¤ ESLint ãƒ«ãƒ¼ãƒ«ãŒ
       * å«ã¾ã‚Œã¦ã„ã¾ã™ã€‚ESLint ãƒ«ãƒ¼ãƒ«ãŒã‚¨ãƒ©ãƒ¼ã‚’å ±å‘Šã™ã‚‹å ´åˆã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«ã‚ˆã‚‹ãã®ã‚³ãƒ³ãƒãƒ¼
       * ãƒãƒ³ãƒˆã‚„ãƒ•ãƒƒã‚¯ã®æœ€é©åŒ–ãŒã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã‚‹ã¨ã„ã†æ„å‘³ã§ã™ã€‚
       * ã“ã‚Œã¯å®‰å…¨ã§ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®ä»–ã®éƒ¨åˆ†ã®æœ€é©åŒ–ã‚’ç¶šã‘ã‚‹ã®ã§ã€ã™ã¹ã¦ã®
       * é•åã‚’ã™ãã«ä¿®æ­£ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã§å¯¾å‡¦ã—ã€æœ€é©åŒ–ã•ã‚Œã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒ
       * ãƒ³ãƒˆã®æ•°ã‚’å¾ã€…ã«å¢—ã‚„ã—ã¦ã„ã£ã¦ãã ã•ã„ã€‚
       *
       * @see https://ja.react.dev/learn/react-compiler/installation#eslint-integration
       * @see https://github.com/facebook/react/blob/main/packages/eslint-plugin-react-hooks/README.md#installation
       */
      ...reactHooks.configs.flat['recommended-latest'].plugins,
    },

    /** ------------------------------------------------------------------------
     * ğŸš© ãƒ«ãƒ¼ãƒ«ã‚’æœ‰åŠ¹åŒ–ã—ã¾ã™ã€‚
     * ---------------------------------------------------------------------- */
    rules: {
      /* [1] eslint-plugin-use-no-memo */
      'use-no-memo/react-hook-form': 'error',
      'use-no-memo/tanstack-table': 'error',

      /* [2] eslint-plugin-react-hooks */
      ...reactHooks.configs.flat['recommended-latest'].rules,
    },
  },

  /** --------------------------------------------------------------------------
   * âœ’ï¸ TanStack ESLint è¨­å®šã‚’é©ç”¨ã—ã¾ã™ã€‚
   * ------------------------------------------------------------------------ */
  ...tanstackConfig,
]
